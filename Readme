# Employee NFC Logging Time Sheet

An ACR122U card reader and Raspberry Pi are used in this straightforward Python-based NFC attendance system.  Employees can tap their cards to check in and out, and the information is subsequently logged into a shared Google Sheet.  Each scan is accompanied by audio feedback to let the user know it was successful.

---------------------------

## üß∞ What You‚Äôll Need

- Raspberry Pi (any model with internet access)
- ACR122U NFC Reader
- Blank NFC cards/tags
- External speaker (optional but recommended)
- Google account (for Google Sheets access)
- Python 3 installed on the Pi
- Internet connection (for syncing logs)

---------------------------

## üîß Initial Setup

### 1. Clone This Repo

```bash
git clone https://github.com/your-username/Employee-NFC-Logging-Time-Sheet.git
cd Employee-NFC-Logging-Time-Sheet

---------------------------
Install the required packages:

sudo apt update
sudo apt install python3-pip libnfc-bin mpg123
pip3 install gspread oauth2client

---------------------------

Start the NFC reader service (also useful to enable it permanently):

sudo systemctl enable pcscd
sudo systemctl start pcscd

---------------------------
Setting Up Google Sheets Integration:

Go to Google Developers Console (https://console.developers.google.com/).
Create a new project.
Enable both Google Sheets API and Google Drive API for that project.
Under the ‚ÄúCredentials‚Äù section, create a Service Account Key and choose the JSON format.
Download the JSON file and place it inside your project folder.
Rename it to: credentials.json
Share your Google Sheet with the email from the client_email field inside that JSON file.

---------------------------
Folder Structure (make sure this is exactly right):

Employee-NFC-Logging-Time-Sheet/
‚îú‚îÄ‚îÄ audio/
‚îÇ ‚îú‚îÄ‚îÄ checkin/ ‚Üí contains Checkedin.mp3
‚îÇ ‚îú‚îÄ‚îÄ checkout/ ‚Üí contains Checkedout.mp3
‚îÇ ‚îî‚îÄ‚îÄ error/ ‚Üí contains error.mp3
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ credentials.json

You can change the audio files, but the names and folder structure must match exactly.
---------------------------
Running the Program:

To start the NFC logger: python3 main.py
The system will:

Wait for card scan
Log check-in or check-out based on previous activity
Play a sound to confirm action
Print UID, employee name, action, and timestamp in the terminal
Send the log to your Google Sheet
---------------------------
üßØ Troubleshooting:
Problem.Cause.Fix
No such file or directory: error.mp3	Incorrect path or filename	Double-check spelling/capitalisation of the .mp3 files
NFC card scans but no audio	Missing mpg123 or wrong sound path	Install mpg123 or fix audio file location
Unknown card every time	UID not in Employees tab	Add UID + employee name to your Google Sheet
Google Sheet not updating	Credentials not shared properly	Share the sheet with the email from credentials.json
oauth2client errors	JSON file is missing or misnamed	Make sure it's named credentials.json and is valid
Nothing happens on scan	NFC reader not detected	Run sudo pcsc_scan to see if it's connected
Audio doesn‚Äôt play even though file is there	Wrong format or broken MP3	Test your MP3 manually: mpg123 audio/checkin/Checkedin.mp3
Crashes when scanning multiple times

---------------------------
Extra Tips
Auto-run on boot:
Use crontab -e and add this at the bottom: @reboot python3 /home/pi/Employee-NFC-Logging-Time-Sheet/main.py
Make sure to replace /home/pi/... with your actual path.

No speakers?
Comment out or remove the os.system("mpg123 ...") lines to avoid audio errors.

---------------------------



